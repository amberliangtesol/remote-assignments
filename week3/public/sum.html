<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Array Calculator</title>
        <script>
        var xhr = new XMLHttpRequest();   
        xhr.onreadystatechange = function () {
          console.log({ xhr })
        if (xhr.readyState === 4) {
          if (xhr.status === 200) {
            document.getElementById("content").innerHTML = xhr.responseText;
          } else {
            alert(xhr.statusText);
            }   
          }
        };

        function getData () {
          var inputNumber = document.getElementById("number"); 
          var number = inputNumber.value; 
          var req = new XMLHttpRequest();
          req.open("get", `http://localhost:3000/getData?number=${number}`);
          req.onload=function(){
            var content=document.getElementById("content");
            content.innerHTML=this.responseText;
          };
          req.send();
        }         

        function clearResult () {  
          document.getElementById("number").value= '';
          document.getElementById("content").value= '';
        }   
        </script>
	</head>
	<body>
		<div>
			<header>
				<h1>Array Calculator</h1>
				<div>
					<label>Your number</label>
					<input  id="number" type="number" placeholder="請輸入數字"/>
					<button id="load" type="submit" onclick="getData(number);">Submit</button>
          <button id="reset" type="reset" value ="Reset" onClick="clearResult()">Reset</button>
				  </div>
          <div>
					<label>Result:</label>
					<output id="content"/>
				</div>
			</header>
		</div>

	</body>
</html>
